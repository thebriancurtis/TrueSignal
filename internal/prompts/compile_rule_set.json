{
  "task": "Compile a rule set into a flat array of validated rules with IDs.",
  "inputs": {
    "rule_set_definition": "/internal/rule_sets/{set_id}.json",
    "rule_directory": "/rules/",
    "rule_schema": "/internal/standards/rule_schema.json"
  },
  "behavior": {
    "rules": "An array of rule IDs (e.g., ENF-R001) to include in this rule set.",
    "rule_sets": "An array of other rule set IDs (e.g., context/code_review) whose rules should be recursively resolved and included.",
    "validate_each_rule": true,
    "abort_on_missing_rule": true,
    "abort_on_schema_violation": true
  },
  "output": {
    "format": "array_of_objects",
    "schema": "/internal/standards/compiled_rule_set_schema.json",
    "destination": "/rule_sets/{set_id}.json"
  },
  "errors": {
    "on_missing": "Report missing rule IDs.",
    "on_invalid_rule": "Report validation failure with rule ID."
  },
  "notes": "This rule set compiler uses strict composition. Rules and rule sets are additive only. No exclusions are supported. The final output is a flat array of {id, rule} objects, validated and compiled from the declared components.\n\nNote: The TrueSignal core is now defined by all rule files located in `/core/`. These rules are foundational and automatically included in all compiled rule sets. They are not composable and must not be referenced in any `rule_sets` declaration."
}